<table class="striped highlight centered responsive-table">
    <thead>
        <tr>
            <th>測驗代碼</th>
            <th>起始時間</th>
            <th>測驗時間</th>
            <th>測驗教室</th>
            <th>報名人數</th>
            <th>實到人數</th>
            <th>開放報名</th>
            <th>試卷名稱</th>
            <th>報名類型</th>
            <th>測驗類型</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ list.code }}</td>
            <td>{{ list.began_at }}</td>
            <td>{{ list.duration }}</td>
            <td>{{ list.room }}</td>
            <td>{{ list.std_apply_num}}  / {{ list.std_maximum_num }}</td>
            <td>{{ list.std_test_num }}</td>
            <td>{{ list.allow_apply }}</td>
            <td>
                <template v-if="list.paper">
                    <a v-link="{name: 'exam.papers.questions.index', params: {id: list.paper.id}}">{{ list.paper.name  }}</a>
                </template>
                <template v-else>
                    <span>-</span>
                </template>
            </td>
            <td>{{ list.apply.name }}</td>
            <td>{{ list.subject.name }}</td>
        </tr>
    </tbody>
</table>

<table class = "striped highlight centered responsive-table">
    <thead>
        <tr class="reponsive-table-heading">
            <th>學號</th>
            <th>姓名</th>
            <th>已繳費</th>
            <th>刪除</th>
        </tr>
    </thead>
    <tbody>
        <tr v-for="apply in applies" class="reponsive-table-body">
            <td>{{ apply.user.username }}</td>
            <td>{{ apply.user.name }}</td>
            <td><i class="material-icons" :class="[apply.paid_at ? 'green-text' : 'red-text']">{{ apply.paid_at ? 'check' : 'close' }}</i></td>
            <td><a class="btn waves-effect waves-light deep-orange lighten-1" @click="destroy(apply)"><i class="material-icons">delete</i></a></td>
        </tr>
    </tbody>
</table>

<div class="fixed-action-btn">
    <button data-target="create-apply" class="modal-trigger btn-floating btn-large waves-effect waves-light green"><i class="material-icons">add</i></button>
</div>

<div id="create-apply" class="modal">
    <div class="modal-content">
        <h4>管理員報名</h4>

        <div class="row">
            <form class="col s12" @submit.prevent="create()">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">person</i>
                        <input
                            v-model="form.username"
                            id="username"
                            type="text"
                            class="validate"
                            required
                        >
                        <label for="username">學號</label>
                    </div>

                    <div class="hide">
                        <button id="submit-button" type="submit"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="modal-footer">
        <button
            @click="buttonLink('submit-button')"
            type="button"
            class="btn waves-effect waves-light"
        >新增</button>
    </div>
</div>
